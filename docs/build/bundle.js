var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}let c=!1;const r=new Set;function u(t,e){c&&r.delete(e),e.parentNode!==t&&t.appendChild(e)}function a(t,e,n){c&&r.delete(e),(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function d(t){c?r.add(t):t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function g(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}let x;function w(t){x=t}function S(){if(!x)throw new Error("Function called outside component initialization");return x}function k(t){S().$$.on_destroy.push(t)}const q=[],_=[],R=[],C=[],E=Promise.resolve();let N=!1;function D(t){R.push(t)}let z=!1;const O=new Set;function M(){if(!z){z=!0;do{for(let t=0;t<q.length;t+=1){const e=q[t];w(e),A(e.$$)}for(w(null),q.length=0;_.length;)_.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];O.has(e)||(O.add(e),e())}R.length=0}while(q.length);for(;C.length;)C.pop()();N=!1,z=!1,O.clear()}}function A(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const j=new Set;function I(t,e){t&&t.i&&(j.delete(t),t.i(e))}function L(t,e,n,s){if(t&&t.o){if(j.has(t))return;j.add(t),undefined.c.push((()=>{j.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function T(t){t&&t.c()}function W(t,n,i,o){const{fragment:c,on_mount:r,on_destroy:u,after_update:a}=t.$$;c&&c.m(n,i),o||D((()=>{const n=r.map(e).filter(l);u?u.push(...n):s(n),t.$$.on_mount=[]})),a.forEach(D)}function J(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(q.push(t),N||(N=!0,E.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(e,l,i,o,u,a,h=[-1]){const f=x;w(e);const p=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:l.context||[]),callbacks:n(),dirty:h,skip_bound:!1};let m=!1;if(p.ctx=i?i(e,l.props||{},((t,n,...s)=>{const l=s.length?s[0]:n;return p.ctx&&u(p.ctx[t],p.ctx[t]=l)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](l),m&&P(e,t)),n})):[],p.update(),m=!0,s(p.before_update),p.fragment=!!o&&o(p.ctx),l.target){if(l.hydrate){c=!0;const t=function(t){return Array.from(t.childNodes)}(l.target);p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();l.intro&&I(e.$$.fragment),W(e,l.target,l.anchor,l.customElement),function(){c=!1;for(const t of r)t.parentNode.removeChild(t);r.clear()}(),M()}w(f)}class B{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const F=[];const H=function(e,n=t){let s;const l=[];function o(t){if(i(e,t)&&(e=t,s)){const t=!F.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),F.push(n,e)}if(t){for(let t=0;t<F.length;t+=2)F[t][0](F[t+1]);F.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,c=t){const r=[i,c];return l.push(r),1===l.length&&(s=n(o)||t),i(e),()=>{const t=l.indexOf(r);-1!==t&&l.splice(t,1),0===l.length&&(s(),s=null)}}}}({weights:[16,24,32],minSets:6,maxSets:20,delta:2,baseReps:6,proportionateReps:!0,includeDensity:!0});function G(t,e,n){const s=t.slice();return s[3]=e[n],s[5]=n,s}function K(t){let e,n,s,l,i,o,c,r,h,g,v,$,x,w,S,k,q,_,R,C,E,N,D,z,O,M,A=t[5]+1+"",j=t[3].weight+"",I=t[3].reps+"",L=t[3].sets+"",T=t[3].volume+"";return{c(){e=f("tr"),n=f("td"),s=p(A),l=m(),i=f("td"),o=p(j),c=m(),r=f("td"),h=p(I),g=m(),v=f("td"),$=p(L),x=m(),w=f("td"),S=p(T),k=m(),q=f("td"),_=f("span"),E=m(),N=f("td"),D=f("span"),M=m(),b(_,"class",R="circle "+t[1](t[3].density)+" svelte-hluzk0"),b(_,"title",C=t[3].density),b(D,"class",z="circle "+t[1](t[3].intensity)+" svelte-hluzk0"),b(D,"title",O=t[3].intensity)},m(t,d){a(t,e,d),u(e,n),u(n,s),u(e,l),u(e,i),u(i,o),u(e,c),u(e,r),u(r,h),u(e,g),u(e,v),u(v,$),u(e,x),u(e,w),u(w,S),u(e,k),u(e,q),u(q,_),u(e,E),u(e,N),u(N,D),u(e,M)},p(t,e){1&e&&j!==(j=t[3].weight+"")&&y(o,j),1&e&&I!==(I=t[3].reps+"")&&y(h,I),1&e&&L!==(L=t[3].sets+"")&&y($,L),1&e&&T!==(T=t[3].volume+"")&&y(S,T),1&e&&R!==(R="circle "+t[1](t[3].density)+" svelte-hluzk0")&&b(_,"class",R),1&e&&C!==(C=t[3].density)&&b(_,"title",C),1&e&&z!==(z="circle "+t[1](t[3].intensity)+" svelte-hluzk0")&&b(D,"class",z),1&e&&O!==(O=t[3].intensity)&&b(D,"title",O)},d(t){t&&d(e)}}}function Q(e){let n,s,l,i,o=e[0],c=[];for(let t=0;t<o.length;t+=1)c[t]=K(G(e,o,t));return{c(){n=f("table"),s=f("thead"),s.innerHTML="<tr><th>Workout</th> \n            <th>Weight</th> \n            <th>Reps</th> \n            <th>Sets</th> \n            <th>Volume</th> \n            <th>Density</th> \n            <th>Intensity</th></tr>",l=m(),i=f("tbody");for(let t=0;t<c.length;t+=1)c[t].c();b(n,"class","svelte-hluzk0")},m(t,e){a(t,n,e),u(n,s),u(n,l),u(n,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null)},p(t,[e]){if(3&e){let n;for(o=t[0],n=0;n<o.length;n+=1){const s=G(t,o,n);c[n]?c[n].p(s,e):(c[n]=K(s),c[n].c(),c[n].m(i,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=o.length}},i:t,o:t,d(t){t&&d(n),h(c,t)}}}function U(t,e,n){let s=[];return k(H.subscribe((t=>{if(!(t.minSets>=1&&t.maxSets>=1&&t.maxSets>=t.minSets&&t.delta>=1))return;n(0,s=[]);let e=Math.min(...t.weights),l=t.baseReps+(t.maxSets-t.minSets)/t.delta,i=Math.max(...t.weights);for(let n of t.weights){let o=t.proportionateReps?Math.floor(e/n*t.baseReps):t.baseReps;for(let e=t.minSets;e<=t.maxSets;e+=t.delta)s.push({weight:n,sets:e,reps:o,volume:n*e*o,density:o/l,intensity:n/i});if(t.includeDensity)for(let e=t.maxSets-t.delta,c=1;e>=t.minSets;e-=t.delta,c++)s.push({weight:n,sets:e,reps:o+c,volume:n*e*(o+c),density:(o+c)/l,intensity:n/i})}s.sort(((t,e)=>t.volume!==e.volume?t.volume-e.volume:t.weight-e.weight))}))),[s,t=>t>.67?"high":t>.33?"medium":"low"]}class X extends B{constructor(t){super(),V(this,t,U,Q,i,{})}}function Y(t,e,n){const s=t.slice();return s[11]=e[n],s[12]=e,s[13]=n,s}function Z(t){let e,n,s;function l(){return t[4](t[13])}return{c(){e=f("button"),e.textContent="-"},m(t,i){a(t,e,i),n||(s=g(e,"click",l),n=!0)},p(e,n){t=e},d(t){t&&d(e),n=!1,s()}}}function tt(t){let e,n,s,l,i;function o(){t[3].call(n,t[12],t[13])}let c=t[0].weights.length>1&&Z(t);return{c(){e=f("div"),n=f("input"),s=m(),c&&c.c(),b(n,"class","weightInput svelte-qlc0dn"),b(n,"type","number"),b(n,"min","0"),b(e,"class","weight")},m(r,d){a(r,e,d),u(e,n),$(n,t[11]),u(e,s),c&&c.m(e,null),l||(i=g(n,"input",o),l=!0)},p(s,l){t=s,1&l&&v(n.value)!==t[11]&&$(n,t[11]),t[0].weights.length>1?c?c.p(t,l):(c=Z(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&d(e),c&&c.d(),l=!1,i()}}}function et(e){let n,l,i,o,c,r,y,x,w,S,k,q,_,R,C,E,N,D,z,O,M,A,j,I,L,T,W,J,P,V,B,F,H,G,K,Q,U,X=e[0].weights,Z=[];for(let t=0;t<X.length;t+=1)Z[t]=tt(Y(e,X,t));return{c(){n=f("div"),l=f("div"),i=f("span"),i.textContent="Weights:",o=m(),c=f("div");for(let t=0;t<Z.length;t+=1)Z[t].c();r=m(),y=f("button"),y.textContent="+",x=m(),w=f("div"),S=f("label"),S.textContent="Sets:",k=m(),q=f("div"),_=f("input"),R=p(" to\n            "),C=f("input"),E=p(" by\n            "),N=f("input"),D=m(),z=f("br"),O=m(),M=f("input"),A=m(),j=f("span"),j.textContent="Include density",I=m(),L=f("div"),T=f("label"),T.textContent="Reps:",W=m(),J=f("div"),P=f("input"),V=m(),B=f("br"),F=m(),H=f("input"),G=m(),K=f("span"),K.textContent="Proportionate to weight",b(i,"class","label left svelte-qlc0dn"),b(c,"class","right svelte-qlc0dn"),b(l,"class","formElement svelte-qlc0dn"),b(S,"for","minSets"),b(S,"class","left svelte-qlc0dn"),b(_,"id","minSets"),b(_,"type","number"),b(_,"class","svelte-qlc0dn"),b(C,"id","maxSets"),b(C,"type","number"),b(C,"class","svelte-qlc0dn"),b(N,"id","delta"),b(N,"type","number"),b(N,"class","svelte-qlc0dn"),b(M,"type","checkbox"),b(M,"id","includeDensity"),b(j,"class","label svelte-qlc0dn"),b(q,"class","right svelte-qlc0dn"),b(w,"class","formElement svelte-qlc0dn"),b(T,"for","baseReps"),b(T,"class","left svelte-qlc0dn"),b(P,"id","baseReps"),b(P,"type","number"),b(P,"class","svelte-qlc0dn"),b(H,"type","checkbox"),b(H,"id","propReps"),b(K,"class","label svelte-qlc0dn"),b(J,"class","right svelte-qlc0dn"),b(L,"class","formElement svelte-qlc0dn"),b(n,"class","base svelte-qlc0dn")},m(t,s){a(t,n,s),u(n,l),u(l,i),u(l,o),u(l,c);for(let t=0;t<Z.length;t+=1)Z[t].m(c,null);u(c,r),u(c,y),u(n,x),u(n,w),u(w,S),u(w,k),u(w,q),u(q,_),$(_,e[0].minSets),u(q,R),u(q,C),$(C,e[0].maxSets),u(q,E),u(q,N),$(N,e[0].delta),u(q,D),u(q,z),u(q,O),u(q,M),M.checked=e[0].includeDensity,u(q,A),u(q,j),u(n,I),u(n,L),u(L,T),u(L,W),u(L,J),u(J,P),$(P,e[0].baseReps),u(J,V),u(J,B),u(J,F),u(J,H),H.checked=e[0].proportionateReps,u(J,G),u(J,K),Q||(U=[g(y,"click",e[1]),g(_,"input",e[5]),g(C,"input",e[6]),g(N,"input",e[7]),g(M,"change",e[8]),g(P,"input",e[9]),g(H,"change",e[10])],Q=!0)},p(t,[e]){if(5&e){let n;for(X=t[0].weights,n=0;n<X.length;n+=1){const s=Y(t,X,n);Z[n]?Z[n].p(s,e):(Z[n]=tt(s),Z[n].c(),Z[n].m(c,r))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=X.length}1&e&&v(_.value)!==t[0].minSets&&$(_,t[0].minSets),1&e&&v(C.value)!==t[0].maxSets&&$(C,t[0].maxSets),1&e&&v(N.value)!==t[0].delta&&$(N,t[0].delta),1&e&&(M.checked=t[0].includeDensity),1&e&&v(P.value)!==t[0].baseReps&&$(P,t[0].baseReps),1&e&&(H.checked=t[0].proportionateReps)},i:t,o:t,d(t){t&&d(n),h(Z,t),Q=!1,s(U)}}}function nt(t,e,n){let s;function l(t){H.update((e=>({...e,weights:[...e.weights.slice(0,t),...e.weights.slice(t+1)]})))}o(t,H,(t=>n(0,s=t)));return[s,function(){const t=s.weights.length,e=0===t?16:1===t?s.weights[0]+4:s.weights[t-1]+(s.weights[t-1]-s.weights[t-2]);H.update((t=>({...t,weights:[...t.weights,e]})))},l,function(t,e){t[e]=v(this.value),H.set(s)},t=>l(t),function(){s.minSets=v(this.value),H.set(s)},function(){s.maxSets=v(this.value),H.set(s)},function(){s.delta=v(this.value),H.set(s)},function(){s.includeDensity=this.checked,H.set(s)},function(){s.baseReps=v(this.value),H.set(s)},function(){s.proportionateReps=this.checked,H.set(s)}]}class st extends B{constructor(t){super(),V(this,t,nt,et,i,{})}}function lt(e){let n,s,l,i,o,c,r,h,p,g;return c=new st({}),p=new X({}),{c(){n=f("main"),s=f("h1"),s.textContent="Volume / Density Cycle Calculator",l=m(),i=f("div"),o=f("div"),T(c.$$.fragment),r=m(),h=f("div"),T(p.$$.fragment),b(s,"class","svelte-1q0l33t"),b(o,"class","builder svelte-1q0l33t"),b(h,"class","workouts svelte-1q0l33t"),b(i,"id","container"),b(i,"class","svelte-1q0l33t"),b(n,"class","svelte-1q0l33t")},m(t,e){a(t,n,e),u(n,s),u(n,l),u(n,i),u(i,o),W(c,o,null),u(i,r),u(i,h),W(p,h,null),g=!0},p:t,i(t){g||(I(c.$$.fragment,t),I(p.$$.fragment,t),g=!0)},o(t){L(c.$$.fragment,t),L(p.$$.fragment,t),g=!1},d(t){t&&d(n),J(c),J(p)}}}function it(t){let e=!1;const n=H.subscribe((t=>{e&&(location.hash=btoa(JSON.stringify(t)))}));var s;return s=function(){if(location.hash)try{const t=JSON.parse(atob(location.hash.substring(1)));H.set(t)}catch{console.error("failed to parse",location.hash)}e=!0},S().$$.on_mount.push(s),k(n),[]}return new class extends B{constructor(t){super(),V(this,t,it,lt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
